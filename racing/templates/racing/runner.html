{% extends "base.html" %}

{% load humanize racing_extras static thumbnail %}

{% block content %}
<h1>
    {{ runner.name }}
    {% comment %} TODO: this might not actually be the most recent headshot? {% endcomment %}
    {% if runner.rosterspot_set.first.headshot %}{% thumbnail runner.rosterspot_set.first.headshot "75x75" crop="center top" as im %}<img class="rounded-circle border border-dark ms-1" src="{{ im.url }}" width="{{ im.width }}" height="{{ im.height }}">{% endthumbnail %}{% endif %}
</h1>

<h2>Teams</h2>
<div class="list-group mb-2">
    {% for spot in runner.rosterspot_set.all %}
        <a class="list-group-item list-group-item-action" href="{% url 'roster' spot.team.slug spot.year %}">{{ spot.team }} {{ spot.year }}</a>
    {% endfor %}
</div>

<h2>Results</h2>
<div class="list-group">
    {% for result in results %}
        <a class="list-group-item list-group-item-action d-flex align-items-center" href="{{ result.result.race.get_absolute_url }}">
            {% if result.position == 1 %}
                <img src="{% static 'gold.svg' %}" alt="Gold" class="me-2">
            {% elif result.position == 2 %}
                <img src="{% static 'silver.svg' %}" alt="Silver" class="me-2">
            {% elif result.position == 3 %}
                <img src="{% static 'bronze.svg' %}" alt="Bronze" class="me-2">
            {% endif %}
            {{ result.position|ordinal }} - {{ result.result.race.meet }} {{ result.result.race.meet.date.year }} ({{ result.result.race.get_display_distance }}, {{ result.result.time|finish_time }})
        </a>     
    {% endfor %}
</div>


{% endblock content %}
